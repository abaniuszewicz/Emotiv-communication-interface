% !TEX encoding = UTF-8 Unicode
% !TeX spellcheck = pl_PL
% !~~TEX TS-program = xelatex
% !TeX TXS-program:bibliography = txs:///biber
% !TeX TXS-program:index = txs:///makeindex

\documentclass[skorowidz,skroty]{dyplomWEZUT}
% ------------------------------------------------------------------------------
% Opcje klasy <dyplomWEZUT>
% 1) skorowidz - włącza skorowidz
% 2) skroty    - włącza wykaz ważniejszych skrótów i oznaczeń
% ------------------------------------------------------------------------------


% -------------------------- Dane pracy dyplomowej -----------------------------

% Imię i Nazwisko
\author{Adam Baniuszewicz}

% Numer albumu
\nralbumu{33816}

% Tytuł pracy
\title{Algorytmy poleceń mentalnych w~interfejsach mózg-komputer}

% Tytuł pracy w języku angielskim
\tytulang{Algorithms of~mental commands in~brain-computer interfaces}

% Kierunek studiów
\kierunek{Teleinformatyka}

% Rodzaj studiów: S1/S2/N1/N2
\rodzajstudiow{S2}

% Specjalność (tylko na studiach magisterskich - S2 i N2)
\specjalnosc{Sieci teleinformatyczne i~systemy mobilne}

% Data wydania tematu w SIWE/eDziekanacie
\datawydania{01.11.2018}

% Data złożenia pracy w eDziekanacie
\datazlozenia{TODO}

% Miejsce złożenia pracy (odkomentować i wypełnić jeżeli inne niż Szczecin)
%\miejsce{}

% Imię i nazwisko opiekuna - wpisujemy w dopełniaczu
\opiekun{dr. inż. Roberta Krupińskiego}

% Katedra, Zakład lub Zespół Dydaktyczny
% (Wydział wpisujemy po przecinku tylko jeśli inny niż WE)
\jednostka{Katedra Przetwarzania Sygnałów i~Inżynierii Multimedialnej}

% Słowa kluczowe
\slowakluczowe{BCI, Elektroencefalografia}

% Słowa kluczowe po angielsku
\keywords{BCI, Electroencephalography}

%% ----------------------- Koniec definicji danych -----------------------------

% Dodanie metadanych do wynikowego pdf (Autor, Tytuł, Słowa kluczowe)
\makemetadata

\begin{document}

\begin{streszczenie}
TODO
\end{streszczenie}

\begin{abstract}
TODO
\end{abstract}

\maketitle

\begin{wprowadzenie}

TODO

\end{wprowadzenie}

\cel{TODO}

\zakres{TODO}

\chapter{Analiza rozwiązań BCI}
\section{Rodzaje interfejsów}
\subsection{Inwazyjne}
\subsection{Nieinwazyjne}
\section{Rodzaje rejestrowanych sygnałów}
\subsection{EEG}
\subsection{EMG}
\subsection{ECG}
\subsection{EOG}
\section{Charakterystyka wybranych urządzeń komercyjnych}
\subsection{Emotiv Insight\label{subsection:insight}}
Insight (patrz rysunek \vref{fig:insight}) jest produktem wprowadzonym na rynek w roku 2015 przez firmę Emotiv przy wsparciu crowdfundingu na portalu \href{www.kickstarter.com}{kickstarter}. Jest produktem do użytku codziennego, głównie za sprawą minimalistycznego designu oraz braku konieczności stosowania żelów przewodzących, przeznaczonym do mniej precyzyjnych zastosowań.

Jest wyposażony w pięć czujników właściwych oraz dwa referencyjne. Lokalizacja czujników została przedstawiona na rysunku \vref{fig:insight_area}. Czas ubrania oraz ustawienia urządzenia oscyluje w granicach 1--2 minut. Parametry urządzenia zostały zestawione w tabeli \vref{tab:insight}.

Koszt produktu na dzień 21 kwietnia 2019 roku wynosi 299\$.

\rysunekbig{insight}
{Hełm Emotiv Insight\label{fig:insight}}
{\cite{emotiv_insight}}

\rysunekbig{insight_area}
{Rozmieszczenie sensorów w hełmie Emotiv Insight\label{fig:insight_area}}
{\cite{emotiv_insight}}

\tabela{Parametry Emotiv Insight\label{tab:insight}}
{Opracowanie własne na podstawie \cite{emotiv_comparison}}
{
    \begin{tabular}{l|l}
        Ilość kanałów & 5 (+2 referencyjne)\\
        Umiejscowienie elektrod & AF3, AF4, T7, T8, Pz\\
        Czujniki referencyjne & DMS/DRL\\
        Rozdzielczość & 14 bit na kanał\\
        Rozdzielczość LSB & 0,51 µV @ 14 bit\\
        Rodzaj czujników & Półsuchy polimer\\
        Detekcja ruchu & 9-osiowy czujnik (3x żyroskop, 3x akcelerometr, 3x magnetometr)\\
        Łączność & Bezprzewodowa 2,4GHz/Bluetooth 4.0\\
        Zasilanie & Li-Pol 480 mAh, do 8 godzin pracy
    \end{tabular}
}

Firma Emotiv dostarcza do swoich rozwiązań API\footnote{API (\textit{ang.} application programming interface) -- Interfejs programistyczny aplikacji. Zawiera zestaw reguł i ich opisów, które definiują sposób komunikacji między programami komputerowymi.\label{foot:api}} o nazwie Cortex. Stanowi on podstawę do budowania aplikacji wykorzystujących pobrane z hełmów strumienie danych dzięki wykorzystaniu JSON oraz WebSocket\cite{emotiv_developer}. Cortex ułatwia tworzenie gier, aplikacji oraz rejestrowania danych do późniejszego ich wykorzystania do badań.

Cortex jest wrapperem SDK\footnote{SDK (\textit{ang.} software development kit) -- Zestaw narzędzi dla programistów niezbędny w tworzeniu aplikacji korzystających z danej biblioteki.\label{foot:sdk}} firmy EMOTIV. Zapewnia on, w zależności od rodzaju zakupionej licencji, dostęp do różnych strumieni danych z hełmów. Jest kompatybilny z systemami Mac OS oraz Windows. Umożliwia programowanie w językach Java, C\#, C++, Python, Ruby, JavaScript (Node.js) oraz PHP.

Licencja Cortex jest dostępna w trzech planach:
\begin{description}
    \item [Darmowa] \hfill
    \begin{itemize}
        \item Mental Commands API,
        \item Performance Metrics API (do 0,1 Hz),
        \item Frequency Bands API,
        \item Facial Expressions API,
        \item Motion data API,
        \item nielimitowana ilość sesji na 3 urządzeniach.
    \end{itemize}
    \item [Niekomercyjna pro -- \$55-99/miesiąc] \hfill
    \begin{itemize}
        \item Wszystkie API z licencji darmowej,
        \item Raw EEG API,
        \item oprogramowanie EmotivPRO,
        \item nielimitowana ilość sesji na 3 urządzeniach.
    \end{itemize}
    \item [Komercyjna] \hfill
    \begin{itemize}
        \item Performance Metrics API o wysokiej rozdzielczości,
        \item konfigurowanie API pod swoje potrzeby,
        \item tworzenie komercyjnych rozwiązań.
    \end{itemize}
\end{description}

Oprogramowanie EmotivPRO\cite{emotiv_pro}, dostępne w licencjach niekomercyjnej pro oraz komercyjnej, stanowi wsparcie dla badań wykorzystujących EEG. Pozwala ono na akwizycję oraz prezentację strumieni danych w czasie zbliżonym do rzeczywistego, zapisywanie sesji w chmurze oraz szybką analizę wbudowanym algorytmem FFT\footnote{FFT (\textit{ang.} Fast Fourier Transform) -- Szybka transformacja Fouriera.}, bez konieczności eksportu danych.


\subsection{Emotiv EPOC+\label{subsection:epoc}}
EPOC+, pokazany na rysunku \vref{fig:epoc}, został wprowadzony na rynek w 2013 roku przez firmę Emotiv. Został zaprojektowany do badań wykorzystujących EEG oraz zaawansowanych zastosowań BCI\cite{emotiv_epoc}.

Jest wyposażony w 14 kanałów właściwych oraz 2 referencyjne (dokładna lokalizacja sensorów została przedstawiona na rysunku \vref{fig:epoc_area}). W odróżnieniu od Emotiv Insight, omówionego w rozdziale \vref{subsection:insight}, wymaga stosowania \textit{mokrych} elektrod, pokrytych nasączonym solą fizjologiczną filcem. Ze względu na większą ilość czujników niż w Emotiv Insight, czas ubrania oraz przygotowania urządzenia do pracy wynosi około 3--5 minut. Parametry hełmu zostały przedstawione w tabeli \vref{tab:epoc}.

Koszt produktu na dzień 21 kwietnia 2019 roku wynosi 799\$.

\rysunekbig{epoc}
{Hełm Emotiv EPOC+\label{fig:epoc}}
{\cite{emotiv_epoc}}

\rysunekbig{epoc_area}
{Rozmieszczenie sensorów w hełmie Emotiv EPOC+\label{fig:epoc_area}}
{\cite{emotiv_epoc}}

\tabela{Parametry Emotiv EPOC+\label{tab:epoc}}
{Opracowanie własne na podstawie \cite{emotiv_comparison}}
{
    \begin{tabular}{l|l}
        Ilość kanałów & 14 (+2 referencyjne)\\
        Umiejscowienie elektrod & AF3, AF4, F3, F4, FC5, FC6, F7, F8, T7, T8, P7, P8, O1, O2\\
        Czujniki referencyjne & DMS/DRL\\
        Rozdzielczość & 14/16 bit na kanał\\
        Rozdzielczość LSB & 0,51 µV @ 14 bit/0,13 µV @ 16 bit\\
        Rodzaj czujników & Nasączane solą fizjologiczną\\
        Detekcja ruchu & 9-osiowy czujnik (3x żyroskop, 3x akcelerometr, 3x magnetometr)\\
        Łączność & Bezprzewodowa 2,4GHz/Bluetooth 4.0\\
        Zasilanie & Li-Pol 680 mAh, do 12 godzin pracy
    \end{tabular}
}

Od strony programistycznej urządzenie wykorzystuje to samo API oraz SDK co Emotiv Insight; zostały one omówione w rozdziale \vref{subsection:insight}.

\FloatBarrier
\subsection{Muse/Muse 2}
Muse/Muse 2 są urządzeniami wspomagającymi medytację, które pozwalają na rejestrację w czasie rzeczywistym aktywności mózgu, tętna, oddechu oraz ruchu ciała\footnote{Rejestracja poszczególnych parametrów w zależności od wersji opaski.}\cite{muse2}. Przekształcają one zmierzoną aktywność mózgu w predefiniowane dźwięki, takie jak szum wody czy deszczu; w zależności od poziomu skupienia dźwięk będzie spokojny lub gwałtowny, co pozwala osobom uczącym się medytować na efektywniejszą naukę wyciszenia umysłu.

Oba urządzenia są z wyglądu bardzo do siebie podobne. Nowsze, Muse 2 (pokazane na rysunku \vref{fig:muse2}), w odniesieniu do poprzedniej wersji, zostało \textit{odchudzone}, przez co nabrało bardziej eleganckiego wyglądu oraz zyskało niższy profil z dodatkowymi czujnikami\cite{muse_comparison_article}. Dodano również miękkie w dotyku wykończenie.

\rysunek{muse2}
{Opaska Muse 2\label{fig:muse2}}
{\cite{muse2}}
  
Obie opaski są wyposażone w 7 czujników, w tym 3 referencyjne (patrz rysunek \vref{fig:muse_area}). Zestawienie parametrów oferowanych przez obie opaski znajduje się w tabeli \vref{tab:muse}.

\rysunekbig{muse_area}
{Rozmieszczenie sensorów w opasce Muse\label{fig:muse_area}}
{\cite{muse_specification}}

Koszt Muse wynosi 219€; Muse 2 -- 269€.

\tabela{Parametry Muse oraz Muse 2\label{tab:muse}}
{Opracowanie własne na podstawie \cite{muse_comparison} oraz \cite{muse_specification}}
{
    \begin{threeparttable}
        \begin{tabular}{l|l|l}
            Parametr & Muse & Muse 2 \\\hline\hline
            Ilość kanałów & 4 (+ 3 referencyjne) & 4 (+3 referencyjne)\\
            Umiejscowienie elektrod & TP9, AF7, AF8, TP10\tnote{a} & TP9, AF7, AF8, TP10\tnote{a} \\
            Czujniki referencyjne & CMS/DRL & CMS/DRL \\
            Rozdzielczość & 12 bit na próbkę & 12 bit na próbkę \\
            Rodzaj czujników & Suche srebrne/silikonowe & Suche srebrne/silikonowe \\
            Rejestrowane parametry & EEG & EEG, tętno, ruch ciała, oddech \\
            Kompatybilność & iOS, Android & iOS, Android \\
            Łączność & Bezprzewodowa Bluetooth 4.0 & Bezprzewodowa Bluetooth 5.0 \\
            Zasilanie & Li-Ion, do 5 godzin pracy & Li-Ion, do 5 godzin pracy \\
        \end{tabular}
        \begin{tablenotes}
            \item[a] \footnotesize Dokładna lokalizacja zależy od wielkości głowy użytkownika; zamieszczono lokalizację zgodną z \cite{muse_specification}. W literaturze można spotkać również T9, FP1, FP2, T10\cite{muse_article}.
        \end{tablenotes}
    \end{threeparttable}
}

Muse posiada oferty skierowane do następujących grup:
\begin{description}
    \item [\sout{Deweloperów}] \hfill\\
    Na dzień 23 kwietnia 2019 roku Muse nie wspiera aktywnie swojego SDK\footnote{SDK -- Patrz przyp. \vref{foot:sdk}.}. Ostatnią dostępną wersją jest v6.0.3, wydana w marcu 2018 roku. Opaska Muse 2, z racji późniejszej daty premiery, \textbf{nie jest wspierana przez SDK}. Na stronie dla deweloperów\cite{muse_developer} znajduje się odnośnik do innych narzędzi, takich jak \href{https://choosemuse.com/muse-direct/}{Muse Direct} czy projektów open source, np. \href{https://github.com/alexandrebarachant/muse-lsl}{MuseLSL}, \href{https://github.com/NeuroTechX/eeg-notebooks}{EEG Notebooks}.

    \item [Profesjonalistów] \hfill\\
    W ramach subskrypcji Muse Connect profesjonaliści otrzymują program wspomagający rozwój ich biznesu poprzez uczenie ich klientów technik medytacji\cite{muse_professional}. W ten sposób otrzymują dostęp do różnych wskazówek m.in. webinariów\footnote{Webinarium -- Internetowe seminarium realizowane przy wykorzystaniu streamingu wideo.}, studiów przypadków oraz informacji, które pomogą wprowadzić Muse do ich biznesu. Muse Connect wspomaga prowadzenie podopiecznych: ustalanie dla nich celów do realizacji oraz śledzenie ich progresu (również w czasie rzeczywistym).

    Aplikacja oferuje dwa rodzaje subskrypcji:
    \begin{enumerate}
        \item miesięczną w cenie 39\$/miesiąc,
        \item roczną w cenie 33\$/miesiąc; w tej opcji dodatkowo otrzymujemy za darmo urządzenie Muse.
    \end{enumerate}

    \item [Naukowców] \hfill\\
     W ramach narzędzi dla naukowców Muse oferuje dostęp do MusePlayer oraz MuseLab. MusePlayer służy do rejestrowania, ponownego odtwarzania, przekierowywania oraz przetwarzania danych z opasek. Umożliwia konwersję z natywnego typu danych (.muse) na inne (.txt, .mat, .csv). MuseLab wykorzystuje się do wizualizacji danych.
\end{description}

\subsection{Mindwave Mobile 2}

\subsection{OpenBCI Ultracortex \textit{Mark IV}}
Ultracortex jest open-source'owym hełmem zaprojektowanym do pracy ze wszystkimi układami OpenBCI\cite{markiv_shop}. Pozwala na rejestrację sygnałów EEG, EMG oraz ECG. Wspiera do 16 kanałów rozmieszczonych na 35 różnych lokalizacjach według systemu 10-20\footnote{System 10-20 -- system opisu umiejscowienia elektrod; składa się z 21 elektrod. Podstawą tego standardu jest zdefiniowanie konturów między punktami orientacyjnymi czaszki (np. nasion, inion), a następnie podzielenie ich na proporcjonalne odległości 20\% całkowitej długości. Istnieją również systemy pokrewne, np. 10-10 oraz 10-5, które używają odpowiednio 10\% oraz 5\% całkowitej długości\cite[rozdz. 6]{wolpaw2012brain}.}.

W projekcie zastosowano \textit{suche} sensory EEG. Ich rozmieszczenie pokazano na rysunku \vref{fig:markiv_area}.

Czas założenia oraz uruchomienia hełmu wynosi poniżej 30 sekund.

Produkt można kupić w trzech wariantach:
\begin{enumerate}
    \item Do samodzielnego druku --- dostarczane są wszystkie części hełmu oprócz tych, które można wydrukować na drukarce 3D. Hełm należy zmontować samodzielnie na podstawie \href{https://docs.openbci.com/Headware/01-Ultracortex-Mark-IV#ultracortex-mark-iv-assembly-instructions}{dokumentacji}. Cena: 300--400\$.
    \item Niezmontowany --- dostarczane są wszystkie części hełmu, również z tymi, które można wydrukować na drukarce 3D. Hełm należy zmontować samodzielnie na podstawie \href{https://docs.openbci.com/Headware/01-Ultracortex-Mark-IV#ultracortex-mark-iv-assembly-instructions}{dokumentacji}. Cena: 500--600\$.
    \item Zmontowany --- dostarczany jest całkowicie zmontowany hełm. Cena: 700--850\$.
\end{enumerate}

Dodatkowo należy zakupić wybrany układ OpenBCI. Poniżej zamieszczono opis trzech dostępnych układów.

\subsubsection{Ganglion Board}
\subsubsection{Cyton Board}
\subsubsection{Cyton + Daisy Board}

\rysunekbig{markiv}
{Hełm Ultracortex \textit{Mark IV}}
{\cite{markiv}}

\rysunekbig{markiv_area}
{Rozmieszczenie sensorów w hełmie Ultracortex Mark IV\label{fig:markiv_area}}
{\cite{markiv_shop}}



\chapter{Przegląd dostępnych rozwiązań}

\chapter{Analiza istniejących algorytmów ekstrakcji cech}

\chapter{Projekt systemu}

\chapter{Badania opracowanego systemu}



\begin{zakonczenie}\label{chap:zakonczenie}
TODO
\end{zakonczenie}

% Bibliografia
\printbibliography[heading=bibintoc]

% Spis tabel (jeżeli jest potrzebny)
\listoftables

% Spis rysunków (jeżeli jest potrzebny)
\listoffigures

% Spis kodów źródłowych (jeżeli jest potrzebny)
\listoflistings

% TODO: Przenieść generowanie do pakietu glossaries i wyeliminować potrzebę manualnego wykonywania polecenia makeindex w terminalu. !! Dyskusyjne, indeksy należy definiować w preambule lub w osobnym pliku (tak samo jak acronyms), ale pozwala na większą swobodę w definiowaniu wpisów i nie wymaga wywoływania makeindex !!

% Skorowidz (opcjonalnie), po skompilowaniu dokumentu należy użyć opcji Narzędzia -> Indeks,
% aby wygenerować wpisy, po czym powtórnie skompilować dokument.
\printindex

\end{document}
