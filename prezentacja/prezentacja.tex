\documentclass[10pt,aspectratio=169]{beamer}

\usetheme{metropolis}
\usepackage{appendixnumberbeamer}
\usepackage{polyglossia}   
\setdefaultlanguage{polish}                         

\usepackage{booktabs}
\usepackage[scale=2]{ccicons}

\usepackage{pgfplots}
\usepgfplotslibrary{dateplot}

\usepackage{xspace}
\usepackage{subcaption}
\captionsetup[sub]{font=tiny}
\newcommand{\themename}{\textbf{\textsc{metropolis}}\xspace}
\setbeamercolor{background canvas}{bg=white}

\newcommand{\img}[3]
{
  \begin{figure}
    \centering
        \includegraphics[width=#2,height=#3,keepaspectratio]{obrazy/#1}
  \end{figure}
}

\title{Algorytmy poleceń mentalnych w interfejsach mózg--komputer}
%\subtitle{Algorithms of mental commands in brain-computer interfaces}
\date{} %\date{\today}
\author{Adam Baniuszewicz\\Teleinformatyka S2}
\institute{Promotor: dr inż. Robert Krupiński\\
Katedra Przetwarzania Sygnałów i Inżynierii Multimedialnej\\
Wydział Elektryczny ZUT w Szczecinie}
% \titlegraphic{\hfill\includegraphics[height=1.5cm]{logo.pdf}}

\begin{document}

\maketitle

\begin{frame}{Spis treści}
  \setbeamertemplate{section in toc}[sections numbered]
  \tableofcontents[hideallsubsections]
\end{frame}

\section{Zakres pracy}

\begin{frame}{Zakres pracy}
  \begin{enumerate}%[<+-|alert@+>]
    \item Analiza urządzeń do rejestracji aktywności mózgu.
    \item Projekt oraz wykonanie układu wirtualnej klawiatury.
    \item Przeprowadzenie badań opracowanego układu.
  \end{enumerate}
\end{frame}

\section{Wstęp do tematyki interfejsów mózg--komputer}

\begin{frame}{Definicja}
  \alert{Interfejs mózg--komputer} jest układem, który przetwarza aktywność ośrodkowego układu nerwowego w polecenia dla urządzenia wykonawczego.
\end{frame}

\begin{frame}{Podejścia do realizacji sterowania}
  \begin{columns}
    \begin{column}{0.29\textwidth}
      \begin{enumerate}[<+-|alert@+>]
        \item Potencjały wywołane
        \item Wyobrażenie ruchu 
      \end{enumerate}
    \end{column}
    \hfill
    \begin{column}{0.69\textwidth}
      \only<1>{\img{p300}{\linewidth}{0.7\textheight}}
      \only<2>{\img{homunculus}{\linewidth}{0.8\textheight}}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{Rodzaje interfejsów mózg--komputer}
  \begin{columns}
    \begin{column}{0.4\textwidth}
      \begin{enumerate}[<+-|alert@+>]
        \item Inwazyjne
        \item Nieinwazyjne
        \item Inne
          \begin{enumerate}[<.>]
            \item Częściowo--inwazyjne
            \item Stymulujące
            \item Dwukierunkowe
          \end{enumerate}
      \end{enumerate}
    \end{column}
    \hfill
    \begin{column}{0.6\textwidth}
      \only<1>{\img{invasive}{0.8\linewidth}{0.7\textheight}}
      \only<2>{\img{non_invasive}{0.8\linewidth}{0.7\textheight}}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{Przetwarzanie sygnałów}
  \begin{columns}
    \begin{column}{0.4\textwidth}
      \begin{enumerate}[<+-|alert@+>]
        \item Usunięcie szumów
        \item Ekstrakcja cech
        \item Klasyfikacja sygnałów
      \end{enumerate}
    \end{column}
    \hfill
    \begin{column}{0.6\textwidth}
      \only<1>{
        \begin{figure}[htb]
          \centering
          \begin{subfigure}{0.48\linewidth}
          \includegraphics[width=\linewidth,keepaspectratio]{obrazy/eeg_noise_clean}
          \caption{Czysty sygnał EEG}
          \end{subfigure}\hspace*{\fill}
          \begin{subfigure}{0.48\linewidth}
          \includegraphics[width=\linewidth,keepaspectratio]{obrazy/eeg_noise_blink}
          \caption{Mrugnięcie}
          \end{subfigure}
          
          \medskip
          \begin{subfigure}{0.48\linewidth}
          \includegraphics[width=\linewidth,keepaspectratio]{obrazy/eeg_noise_eye}
          \caption{Ruch gałki ocznej}
          \end{subfigure}\hspace*{\fill}
          \begin{subfigure}{0.48\linewidth}
          \includegraphics[width=\linewidth,keepaspectratio]{obrazy/eeg_noise_line}
          \caption{Zakłócenia sieci energetycznej}
          \end{subfigure}
          
          \medskip
          \begin{subfigure}{0.48\linewidth}
          \includegraphics[width=\linewidth,keepaspectratio]{obrazy/eeg_noise_muscle}
          \caption{Aktywność mięśni}
          \end{subfigure}\hspace*{\fill}
          \begin{subfigure}{0.48\linewidth}
          \includegraphics[width=\linewidth,keepaspectratio]{obrazy/eeg_noise_pulse}
          \caption{Tętno}
          \end{subfigure}
        \end{figure}
      }
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{Potencjalne zastosowania}
  \begin{columns}
    \begin{column}{0.4\textwidth}
      \begin{enumerate}[<+-|alert@+>]
        \item Interfejs komunikacyjny
        \item Sterowanie wózkiem inwalidzkim
        \item Rehabilitacja
        \item Nadzór skupienia
        \item Gry komputerowe
      \end{enumerate}
    \end{column}
    \hfill
    \begin{column}{0.6\textwidth}
      \only<1>{\img{communication}{0.8\linewidth}{0.4\textheight}}
      \only<2>{\img{wheelchair}{0.8\linewidth}{0.4\textheight}}
      \only<3>{\img{rehabilitation}{0.8\linewidth}{0.4\textheight}}
      \only<4>{\img{attention}{0.8\linewidth}{0.4\textheight}}
      \only<5>{\img{gaming}{0.8\linewidth}{0.4\textheight}}
    \end{column}
  \end{columns}
\end{frame}

\section{Charakterystyka wybranych urządzeń komercyjnych}

\begin{frame}{Cechy poszukiwanego urządzenia}
  \begin{enumerate}
    \item Nieinwazyjne
    \item Rozwinięte SDK
    \item Wsparcie w detekcji komend mentalnych
    \item Cena poniżej 500 \$
  \end{enumerate}
\end{frame}

\begin{frame}{Omówione urządzenia}
  \begin{figure}[htb]
    \centering
    \begin{subfigure}{0.2\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/insight}
    \caption{Emotiv Insight}
    \end{subfigure}\hspace*{\fill}
    \begin{subfigure}{0.2\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/epoc}
    \caption{Emotiv EPOC+}
    \end{subfigure}\hspace*{\fill}
    \begin{subfigure}{0.2\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/muse2}
    \caption{Muse/Muse 2}
    \end{subfigure}
    \par\bigskip
    \begin{subfigure}{0.2\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/mindwave}
    \caption{MindWave Mobile 2}
    \end{subfigure}\hspace*{\fill}
    \begin{subfigure}{0.2\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/markiv}
    \caption{OpenBCI Ultracortex Mark IV}
    \end{subfigure}\hspace*{\fill}
    \begin{subfigure}{0.2\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/ganglion}
    \caption{OpenBCI Ganglion Board}
    \end{subfigure}
  \end{figure}
\end{frame}

\section{Projekt wirtualnej klawiatury}

\begin{frame}{Założenia}
  \begin{enumerate}[<+-|alert@+>]
    \item Możliwość wprowadzania znaków: A--Z, 0--9, przecinka, kropki, spacji, entera oraz backspace.
    \item Wprowadzona wiadomość wyświetlana na interfejsie użytkownika.
    \item Domyślny język: angielski.
    \item Sterowanie z wykorzystaniem komend mentalnych. Opcjonalnie: EOG/EMG.
    \item Tryb manualny (bez hełmu).
    \item Konfigurowalne parametry algorytmu.
    \item Zapisywanie/wczytywanie ostatnich ustawień.
    \item Użytkownik nie musi znać API urządzenia.
    \item Opcjonalnie: bezpośrednia wymiana wiadomości z urządzeniem.
  \end{enumerate}
\end{frame} 
\begin{frame}{Wykorzystywane narzędzia}
  \begin{enumerate}
    \item Urządzenie rejestrujące: Emotiv Insight.
    \item Język programowania: C\#.
    \item Środowisko programistyczne: Visual Studio.
    \item System kontroli wersji: Git.
  \end{enumerate}
\end{frame}
\begin{frame}{Trening komend}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{enumerate}[<+-|alert@+>]
        \item Trening detekcji komend mentalnych
        \item Trening detekcji mimiki
      \end{enumerate}
    \end{column}
    \hfill
    \begin{column}{0.5\textwidth}
      \only<1>{\img{emotivbci_left}{0.8\linewidth}{0.7\textheight}}
      \only<2>{\img{facial_blink}{0.8\linewidth}{0.7\textheight}}
    \end{column}
  \end{columns}
\end{frame}
\begin{frame}{Proces decyzyjny}
  \img{flowchart}{\linewidth}{0.8\textheight}
\end{frame}
\begin{frame}{Interfejs użytkownika: Virtual Keyboard}
  \img{virtual_keyboard}{\textwidth}{0.8\textheight}
\end{frame}
\begin{frame}{Interfejs użytkownika: Messenger}
  \img{messenger}{\textwidth}{0.8\textheight}
\end{frame}
\begin{frame}{Interfejs użytkownika: About}
  \img{about}{\textwidth}{0.8\textheight}
\end{frame}
\begin{frame}{Interfejs użytkownika: Connection}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \img{connection_before}{\linewidth}{0.5\textheight}
    \end{column}
    \hfill
    \begin{column}{0.5\textwidth}
      \img{connection_after}{\linewidth}{0.5\textheight}
    \end{column}
  \end{columns}
\end{frame}
\begin{frame}{Interfejs użytkownika: Settings}
  \img{settings}{\textwidth}{0.6\textheight}
\end{frame}

\section{Badania opracowanego systemu}
\begin{frame}{Wpływ liczby komend oraz liczby sesji treningowych na poprawność detekcji}
  \begin{itemize}
    \item Badanie wykonane w oprogramowaniu EmotivBCI.
    \item Każdą komendę trenowano dziesięciokrotnie.
    \item Badanie po każdym treningu: 10x próba S, 10x próba NS. Każda próba 15 sekund.
    \item Próba zaliczona: sześcian przesunięty/awatar powtórzył czynność.
    \item Próba niezaliczona: brak akcji/zła akcja.
  \end{itemize}
\end{frame}
\begin{frame}{Wpływ liczby komend oraz liczby sesji treningowych na poprawność detekcji}
  \begin{figure}[htb]
    \centering
    \begin{subfigure}{0.3\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/up}
    \caption{Uniesienie}
    \end{subfigure}\hspace*{\fill}
    \begin{subfigure}{0.3\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/right}
    \caption{Przesunięcie w prawo}
    \end{subfigure}\hspace*{\fill}
    \begin{subfigure}{0.3\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/down}
    \caption{Opuszczenie}
    \end{subfigure}
    \medskip
    \hspace*{\fill}
    \begin{subfigure}{0.3\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/left}
    \caption{Przesunięcie w lewo}
    \end{subfigure}\hspace*{\fill}
    \begin{subfigure}{0.3\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/frown}
    \caption{Zmarszczenie brwi}
    \end{subfigure}\hspace*{\fill}
  \end{figure}
\end{frame}
\begin{frame}{Wpływ parametrów opracowanej aplikacji na poprawność detekcji}
  \begin{itemize}
    \item Badanie wykonywane w opracowanej aplikacji.
    \item Badano dwie komendy: uniesienie oraz zmarszczenie brwi.
    \item Badanie przeprowadzono po 10x treningu każdej z komend.
    \item Dla każdej kombinacji parametrów CFT (500, 1500, 2500) i Threshold (0.1, 0.2,..., 1.0): 10x próba S, 10x próba NS. Każda próba 15 sekund.
    \item Próba zaliczona: jednokrotne wykonanie akcji.
    \item Próba niezaliczona: brak wykonania akcji/akcja wykonana kilkukrotnie.
  \end{itemize}
\end{frame}
\begin{frame}{Wpływ parametrów opracowanej aplikacji na poprawność detekcji}
  \begin{figure}[htb]
    \centering
    \begin{subfigure}{0.3\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/up500}
    \caption{Uniesienie, CFT = 500 ms}
    \end{subfigure}\hspace*{\fill}
    \begin{subfigure}{0.3\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/up1500}
    \caption{Uniesienie, CFT = 1500 ms}
    \end{subfigure}\hspace*{\fill}
    \begin{subfigure}{0.3\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/up2500}
    \caption{Uniesienie, CFT = 2500 ms}
    \end{subfigure}
    \medskip
    \begin{subfigure}{0.3\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/frown500}
    \caption{Zmarszczenie brwi, CFT = 500 ms}
    \end{subfigure}\hspace*{\fill}
    \begin{subfigure}{0.3\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/frown1500}
    \caption{Zmarszczenie brwi, CFT = 1500 ms}
    \end{subfigure}\hspace*{\fill}
    \begin{subfigure}{0.3\linewidth}
    \includegraphics[width=\linewidth,keepaspectratio]{obrazy/frown2500}
    \caption{Zmarszczenie brwi, CFT = 2500 ms}
    \end{subfigure}
  \end{figure}
\end{frame}
\begin{frame}{Dodatkowe uwagi}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{enumerate}[<+-|alert@+>]
        \item Wpływ zakłóceń\only<1>{: włosy, mimika, sieć}
        \item Ucisk urządzenia
        \item Przesuwanie elektrod
        \item \textit{Reużywalność} treningu
        \item Detekcja komend
      \end{enumerate}
    \end{column}
    \hfill
    \begin{column}{0.5\textwidth}
      \only<2>{
        \begin{figure}[htb]
          \centering
          \begin{subfigure}{\linewidth}
          \includegraphics[width=\linewidth,height=0.4\textheight,keepaspectratio]{obrazy/headset_before}
          \end{subfigure}
          \par\medskip
          \begin{subfigure}{\linewidth}
          \includegraphics[width=\linewidth,height=0.4\textheight,keepaspectratio]{obrazy/headset_after}
          \end{subfigure}
        \end{figure}
      }
    \end{column}
  \end{columns}
\end{frame}

\section{Perspektywy dalszych usprawnień}

\begin{frame}{Perspektywy dalszych usprawnień}
  \begin{enumerate}[<+-|alert@+>]
    \item Dodanie obsługi dodatkowych urządzeń rejestrujących.
    \item Opracowanie algorytmu sterowania wykorzystującego wyłącznie detekcję mimiki.
    \item Usprawnienie klawiatury: podpowiedzi, autokorekta, wielojęzyczność, różne układy klawiszy.
  \end{enumerate}
\end{frame}

\begin{frame}[standout]
  Dziękuję za uwagę.
\end{frame}

\end{document}
